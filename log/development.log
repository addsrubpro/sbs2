

Processing Rails::InfoController#properties (for 127.0.0.1 at 2010-11-13 15:55:29) [GET]
  [4;36;1mSQL (15.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Completed in 328ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/rails/info/properties]
<<<<<<< HEAD:log/development.log
=======


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:09:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 2094ms (View: 1906, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#new (for 127.0.0.1 at 2010-11-13 17:09:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"new"}
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/new
Completed in 234ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people/new]


Processing PeopleController#create (for 127.0.0.1 at 2010-11-13 17:10:06) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "person"=>{"current_last_name"=>"Hanssen", "current_first_name"=>"Hans", "birth_date(1i)"=>"2010", "birth_date(2i)"=>"11", "birth_date(3i)"=>"13", "incomeclassification_id"=>"", "occupationclassification_id"=>""}, "commit"=>"Create", "controller"=>"people", "action"=>"create"}
  [4;35;1mParty Create (0.0ms)[0m   [0mINSERT INTO "parties" ("created_at", "updated_at") VALUES('2010-11-13 16:10:06', '2010-11-13 16:10:06')[0m
  [4;36;1mPerson Create (15.6ms)[0m   [0;1mINSERT INTO "people" ("party_id", "incomeclassification_id", "occupationclassification_id", "current_last_name", "current_first_name", "birth_date", "created_at", "updated_at") VALUES(2, NULL, NULL, 'Hanssen', 'Hans', '2010-11-13', '2010-11-13 16:10:07', '2010-11-13 16:10:07')[0m
Redirected to http://127.0.0.1:3000/people/2
Completed in 1672ms (DB: 16) | 302 Found [http://127.0.0.1/people]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-13 17:10:08) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"2"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE ("people"."id" = 2) [0m
Rendering template within layouts/people
Rendering people/show
Completed in 938ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people/2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:10:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 94ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 17:10:31) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: users: SELECT * FROM "users" WHERE (party_id = '1') [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: users: SELECT * FROM "users" WHERE (party_id = '1') ):
  app/controllers/users_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (390.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (15.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateParties (20101030090120)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: table "parties" already exists: CREATE TABLE "parties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateParties (20101030090120)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: table "parties" already exists: CREATE TABLE "parties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (765.6ms)[0m   [0;1mDROP TABLE "incomeclassifications"[0m
  [4;35;1mSQL (62.5ms)[0m   [0mCREATE TABLE "incomeclassifications" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (234.4ms)[0m   [0mDROP TABLE "occupationclassifications"[0m
  [4;36;1mSQL (250.0ms)[0m   [0;1mCREATE TABLE "occupationclassifications" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (15.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (500.0ms)[0m   [0;1mDROP TABLE "parties"[0m
  [4;35;1mSQL (265.6ms)[0m   [0mCREATE TABLE "parties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (500.0ms)[0m   [0mDROP TABLE "partyroles"[0m
  [4;36;1mSQL (265.6ms)[0m   [0;1mCREATE TABLE "partyroles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "party_id" integer, "role_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (15.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (531.2ms)[0m   [0;1mDROP TABLE "people"[0m
  [4;35;1mSQL (78.1ms)[0m   [0mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "party_id" integer, "incomeclassification_id" integer, "occupationclassification_id" integer, "current_last_name" varchar(255), "current_first_name" varchar(255), "birth_date" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (46.9ms)[0m   [0mDROP TABLE "roles"[0m
  [4;36;1mSQL (328.1ms)[0m   [0;1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (265.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "party_id" integer, "username" varchar(255), "encrypted_password" varchar(255), "salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (15.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (31.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20101030090130')[0m
  [4;36;1mSQL (31.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20101030090120')[0m
  [4;35;1mSQL (46.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20101030090121')[0m
  [4;36;1mSQL (281.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20101030090122')[0m
  [4;35;1mSQL (46.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20101030090123')[0m
  [4;36;1mSQL (265.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20101030090124')[0m
  [4;35;1mSQL (31.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20101030090125')[0m


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:34:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing OccupationclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:34:31) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"index"}
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" ORDER BY description ASC[0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/index
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications]


Processing OccupationclassificationsController#new (for 127.0.0.1 at 2010-11-13 17:34:33) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"new"}
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/new
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications/new]


Processing OccupationclassificationsController#create (for 127.0.0.1 at 2010-11-13 17:34:39) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "occupationclassification"=>{"description"=>"Student"}, "controller"=>"occupationclassifications", "action"=>"create"}
  [4;36;1mOccupationclassification Create (0.0ms)[0m   [0;1mINSERT INTO "occupationclassifications" ("description", "created_at", "updated_at") VALUES('Student', '2010-11-13 16:34:39', '2010-11-13 16:34:39')[0m
Redirected to http://127.0.0.1:3000/occupationclassifications/1
Completed in 516ms (DB: 0) | 302 Found [http://127.0.0.1/occupationclassifications]


Processing OccupationclassificationsController#show (for 127.0.0.1 at 2010-11-13 17:34:40) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"show", "id"=>"1"}
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/show
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications/1]


Processing OccupationclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:34:43) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"index"}
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" ORDER BY description ASC[0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/index
Completed in 297ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications]


Processing OccupationclassificationsController#new (for 127.0.0.1 at 2010-11-13 17:34:46) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"new"}
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/new
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications/new]


Processing OccupationclassificationsController#create (for 127.0.0.1 at 2010-11-13 17:34:54) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "occupationclassification"=>{"description"=>"Pensioner"}, "controller"=>"occupationclassifications", "action"=>"create"}
  [4;35;1mOccupationclassification Create (0.0ms)[0m   [0mINSERT INTO "occupationclassifications" ("description", "created_at", "updated_at") VALUES('Pensioner', '2010-11-13 16:34:54', '2010-11-13 16:34:54')[0m
Redirected to http://127.0.0.1:3000/occupationclassifications/2
Completed in 281ms (DB: 0) | 302 Found [http://127.0.0.1/occupationclassifications]


Processing OccupationclassificationsController#show (for 127.0.0.1 at 2010-11-13 17:34:54) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"show", "id"=>"2"}
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 2) [0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/show
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications/2]


Processing OccupationclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:34:57) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"index"}
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" ORDER BY description ASC[0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/index
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications]


Processing OccupationclassificationsController#new (for 127.0.0.1 at 2010-11-13 17:35:02) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"new"}
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/new
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications/new]


Processing OccupationclassificationsController#create (for 127.0.0.1 at 2010-11-13 17:35:13) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "occupationclassification"=>{"description"=>"Self-employed"}, "commit"=>"Create", "controller"=>"occupationclassifications", "action"=>"create"}
  [4;36;1mOccupationclassification Create (15.6ms)[0m   [0;1mINSERT INTO "occupationclassifications" ("description", "created_at", "updated_at") VALUES('Self-employed', '2010-11-13 16:35:13', '2010-11-13 16:35:13')[0m
Redirected to http://127.0.0.1:3000/occupationclassifications/3
Completed in 531ms (DB: 16) | 302 Found [http://127.0.0.1/occupationclassifications]


Processing OccupationclassificationsController#show (for 127.0.0.1 at 2010-11-13 17:35:14) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"show", "id"=>"3"}
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/show
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications/3]


Processing OccupationclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:35:15) [GET]
  Parameters: {"controller"=>"occupationclassifications", "action"=>"index"}
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" ORDER BY description ASC[0m
Rendering template within layouts/occupationclassifications
Rendering occupationclassifications/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/occupationclassifications]


Processing IncomeclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:35:38) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"index"}
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" ORDER BY id ASC[0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/index
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications]


Processing IncomeclassificationsController#new (for 127.0.0.1 at 2010-11-13 17:35:41) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"new"}
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/new
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications/new]


Processing IncomeclassificationsController#create (for 127.0.0.1 at 2010-11-13 17:35:48) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "incomeclassification"=>{"description"=>"incomeclass1"}, "controller"=>"incomeclassifications", "action"=>"create"}
  [4;36;1mIncomeclassification Create (0.0ms)[0m   [0;1mINSERT INTO "incomeclassifications" ("description", "created_at", "updated_at") VALUES('incomeclass1', '2010-11-13 16:35:48', '2010-11-13 16:35:48')[0m
Redirected to http://127.0.0.1:3000/incomeclassifications/1
Completed in 500ms (DB: 0) | 302 Found [http://127.0.0.1/incomeclassifications]


Processing IncomeclassificationsController#show (for 127.0.0.1 at 2010-11-13 17:35:48) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"show", "id"=>"1"}
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/show
Completed in 141ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications/1]


Processing IncomeclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:35:50) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"index"}
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" ORDER BY id ASC[0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/index
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications]


Processing IncomeclassificationsController#new (for 127.0.0.1 at 2010-11-13 17:35:51) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"new"}
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/new
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications/new]


Processing IncomeclassificationsController#create (for 127.0.0.1 at 2010-11-13 17:36:01) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "incomeclassification"=>{"description"=>"incomeclass2"}, "controller"=>"incomeclassifications", "action"=>"create"}
  [4;35;1mIncomeclassification Create (0.0ms)[0m   [0mINSERT INTO "incomeclassifications" ("description", "created_at", "updated_at") VALUES('incomeclass2', '2010-11-13 16:36:01', '2010-11-13 16:36:01')[0m
Redirected to http://127.0.0.1:3000/incomeclassifications/2
Completed in 812ms (DB: 0) | 302 Found [http://127.0.0.1/incomeclassifications]


Processing IncomeclassificationsController#show (for 127.0.0.1 at 2010-11-13 17:36:02) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"show", "id"=>"2"}
  [4;36;1mIncomeclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/show
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://127.0.0.1/incomeclassifications/2]


Processing IncomeclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:36:04) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"index"}
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" ORDER BY id ASC[0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/index
Completed in 47ms (View: 16, DB: 16) | 200 OK [http://127.0.0.1/incomeclassifications]


Processing IncomeclassificationsController#new (for 127.0.0.1 at 2010-11-13 17:36:07) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"new"}
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/new
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications/new]


Processing IncomeclassificationsController#create (for 127.0.0.1 at 2010-11-13 17:36:15) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "incomeclassification"=>{"description"=>"incomeclass3"}, "commit"=>"Create", "controller"=>"incomeclassifications", "action"=>"create"}
  [4;36;1mIncomeclassification Create (0.0ms)[0m   [0;1mINSERT INTO "incomeclassifications" ("description", "created_at", "updated_at") VALUES('incomeclass3', '2010-11-13 16:36:15', '2010-11-13 16:36:15')[0m
Redirected to http://127.0.0.1:3000/incomeclassifications/3
Completed in 734ms (DB: 0) | 302 Found [http://127.0.0.1/incomeclassifications]


Processing IncomeclassificationsController#show (for 127.0.0.1 at 2010-11-13 17:36:16) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"show", "id"=>"3"}
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 3) [0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/show
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications/3]


Processing IncomeclassificationsController#index (for 127.0.0.1 at 2010-11-13 17:36:17) [GET]
  Parameters: {"controller"=>"incomeclassifications", "action"=>"index"}
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" ORDER BY id ASC[0m
Rendering template within layouts/incomeclassifications
Rendering incomeclassifications/index
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/incomeclassifications]


Processing RolesController#index (for 127.0.0.1 at 2010-11-13 17:36:22) [GET]
  Parameters: {"controller"=>"roles", "action"=>"index"}
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/roles]


Processing RolesController#new (for 127.0.0.1 at 2010-11-13 17:36:24) [GET]
  Parameters: {"controller"=>"roles", "action"=>"new"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 78ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2010-11-13 17:36:29) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "role"=>{"description"=>"Employee"}, "controller"=>"roles", "action"=>"create"}
  [4;36;1mRole Create (0.0ms)[0m   [0;1mINSERT INTO "roles" ("description", "created_at", "updated_at") VALUES('Employee', '2010-11-13 16:36:29', '2010-11-13 16:36:29')[0m
Redirected to http://127.0.0.1:3000/roles/1
Completed in 2453ms (DB: 0) | 302 Found [http://127.0.0.1/roles]


Processing RolesController#show (for 127.0.0.1 at 2010-11-13 17:36:31) [GET]
  Parameters: {"controller"=>"roles", "action"=>"show", "id"=>"1"}
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 94ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/roles/1]


Processing RolesController#index (for 127.0.0.1 at 2010-11-13 17:36:33) [GET]
  Parameters: {"controller"=>"roles", "action"=>"index"}
  [4;36;1mRole Load (15.6ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 47ms (View: 16, DB: 16) | 200 OK [http://127.0.0.1/roles]


Processing RolesController#new (for 127.0.0.1 at 2010-11-13 17:36:35) [GET]
  Parameters: {"controller"=>"roles", "action"=>"new"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2010-11-13 17:36:40) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "role"=>{"description"=>"Customer"}, "controller"=>"roles", "action"=>"create"}
  [4;35;1mRole Create (0.0ms)[0m   [0mINSERT INTO "roles" ("description", "created_at", "updated_at") VALUES('Customer', '2010-11-13 16:36:40', '2010-11-13 16:36:40')[0m
Redirected to http://127.0.0.1:3000/roles/2
Completed in 359ms (DB: 0) | 302 Found [http://127.0.0.1/roles]


Processing RolesController#show (for 127.0.0.1 at 2010-11-13 17:36:41) [GET]
  Parameters: {"controller"=>"roles", "action"=>"show", "id"=>"2"}
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 1219ms (View: 1188, DB: 0) | 200 OK [http://127.0.0.1/roles/2]


Processing RolesController#index (for 127.0.0.1 at 2010-11-13 17:36:44) [GET]
  Parameters: {"controller"=>"roles", "action"=>"index"}
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/roles]


Processing RolesController#new (for 127.0.0.1 at 2010-11-13 17:36:46) [GET]
  Parameters: {"controller"=>"roles", "action"=>"new"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2010-11-13 17:36:51) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "role"=>{"description"=>"Contractor"}, "controller"=>"roles", "action"=>"create"}
  [4;36;1mRole Create (0.0ms)[0m   [0;1mINSERT INTO "roles" ("description", "created_at", "updated_at") VALUES('Contractor', '2010-11-13 16:36:51', '2010-11-13 16:36:51')[0m
Redirected to http://127.0.0.1:3000/roles/3
Completed in 391ms (DB: 0) | 302 Found [http://127.0.0.1/roles]


Processing RolesController#show (for 127.0.0.1 at 2010-11-13 17:36:51) [GET]
  Parameters: {"controller"=>"roles", "action"=>"show", "id"=>"3"}
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/roles/3]


Processing RolesController#index (for 127.0.0.1 at 2010-11-13 17:36:53) [GET]
  Parameters: {"controller"=>"roles", "action"=>"index"}
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/roles
Rendering roles/index
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/roles]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:36:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#new (for 127.0.0.1 at 2010-11-13 17:36:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"new"}
  [4;36;1mIncomeclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "incomeclassifications" [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/new
Completed in 203ms (View: 141, DB: 16) | 200 OK [http://127.0.0.1/people/new]


Processing PeopleController#create (for 127.0.0.1 at 2010-11-13 17:37:15) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "person"=>{"current_last_name"=>"Hanssen", "current_first_name"=>"Hans", "birth_date(1i)"=>"2010", "birth_date(2i)"=>"11", "birth_date(3i)"=>"13", "incomeclassification_id"=>"2", "occupationclassification_id"=>"3"}, "commit"=>"Create", "controller"=>"people", "action"=>"create"}
  [4;36;1mParty Create (0.0ms)[0m   [0;1mINSERT INTO "parties" ("created_at", "updated_at") VALUES('2010-11-13 16:37:15', '2010-11-13 16:37:15')[0m
  [4;35;1mPerson Create (0.0ms)[0m   [0mINSERT INTO "people" ("party_id", "incomeclassification_id", "occupationclassification_id", "current_last_name", "current_first_name", "birth_date", "created_at", "updated_at") VALUES(1, 2, 3, 'Hanssen', 'Hans', '2010-11-13', '2010-11-13 16:37:16', '2010-11-13 16:37:16')[0m
Redirected to http://127.0.0.1:3000/people/1
Completed in 625ms (DB: 0) | 302 Found [http://127.0.0.1/people]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-13 17:37:16) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"1"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE ("people"."id" = 1) [0m
Rendering template within layouts/people
Rendering people/show
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
Completed in 78ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/people/1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:37:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
Completed in 94ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#new (for 127.0.0.1 at 2010-11-13 17:37:20) [GET]
  Parameters: {"controller"=>"people", "action"=>"new"}
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" [0m
  [4;35;1mOccupationclassification Load (15.6ms)[0m   [0mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/new
Completed in 125ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/people/new]


Processing PeopleController#create (for 127.0.0.1 at 2010-11-13 17:37:39) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "person"=>{"current_last_name"=>"Jenssen", "current_first_name"=>"Jens", "birth_date(1i)"=>"1990", "birth_date(2i)"=>"11", "birth_date(3i)"=>"13", "incomeclassification_id"=>"1", "occupationclassification_id"=>""}, "commit"=>"Create", "controller"=>"people", "action"=>"create"}
  [4;36;1mParty Create (0.0ms)[0m   [0;1mINSERT INTO "parties" ("created_at", "updated_at") VALUES('2010-11-13 16:37:40', '2010-11-13 16:37:40')[0m
  [4;35;1mPerson Create (0.0ms)[0m   [0mINSERT INTO "people" ("party_id", "incomeclassification_id", "occupationclassification_id", "current_last_name", "current_first_name", "birth_date", "created_at", "updated_at") VALUES(2, 1, NULL, 'Jenssen', 'Jens', '1990-11-13', '2010-11-13 16:37:40', '2010-11-13 16:37:40')[0m
Redirected to http://127.0.0.1:3000/people/2
Completed in 1141ms (DB: 0) | 302 Found [http://127.0.0.1/people]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-13 17:37:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"2"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE ("people"."id" = 2) [0m
Rendering template within layouts/people
Rendering people/show
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/people/2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:37:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PartyrolesController#index (for 127.0.0.1 at 2010-11-13 17:37:50) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"partyroles", "action"=>"index"}
  [4;36;1mPartyrole Load (0.0ms)[0m   [0;1mSELECT * FROM "partyroles" WHERE (party_id = '1') [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/partyroles
Rendering partyroles/index
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/partyroles?party_id=1]


Processing PartyrolesController#new (for 127.0.0.1 at 2010-11-13 17:37:52) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"partyroles", "action"=>"new"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPartyrole Load (0.0ms)[0m   [0;1mSELECT role_id FROM "partyroles" WHERE (party_id = '1') [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE (id NOT IN (0)) [0m
Rendering template within layouts/partyroles
Rendering partyroles/new
Completed in 219ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/partyroles/new?party_id=1]


Processing PartyrolesController#create (for 127.0.0.1 at 2010-11-13 17:37:58) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "partyrole"=>{"party_id"=>"1", "role_id"=>"2"}, "commit"=>"Create", "controller"=>"partyroles", "action"=>"create"}
  [4;36;1mPartyrole Create (0.0ms)[0m   [0;1mINSERT INTO "partyroles" ("party_id", "role_id", "created_at", "updated_at") VALUES(1, 2, '2010-11-13 16:37:58', '2010-11-13 16:37:58')[0m
Redirected to http://127.0.0.1:3000/partyroles/1
Completed in 1125ms (DB: 0) | 302 Found [http://127.0.0.1/partyroles]


Processing PartyrolesController#show (for 127.0.0.1 at 2010-11-13 17:37:59) [GET]
  Parameters: {"controller"=>"partyroles", "action"=>"show", "id"=>"1"}
  [4;35;1mPartyrole Load (0.0ms)[0m   [0mSELECT * FROM "partyroles" WHERE (party_id = '1') [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/partyroles
Rendering partyroles/show
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/partyroles/1]


Processing PartyrolesController#index (for 127.0.0.1 at 2010-11-13 17:38:01) [GET]
  Parameters: {"controller"=>"partyroles", "action"=>"index"}
  [4;36;1mPartyrole Load (0.0ms)[0m   [0;1mSELECT * FROM "partyroles" WHERE (party_id = '1') [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/partyroles
Rendering partyroles/index
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Completed in 94ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/partyroles]


Processing PartyrolesController#new (for 127.0.0.1 at 2010-11-13 17:38:03) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"partyroles", "action"=>"new"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPartyrole Load (0.0ms)[0m   [0mSELECT role_id FROM "partyroles" WHERE (party_id = '1') [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM "roles" WHERE (id NOT IN (0,2)) [0m
Rendering template within layouts/partyroles
Rendering partyroles/new
Completed in 203ms (View: 141, DB: 16) | 200 OK [http://127.0.0.1/partyroles/new?party_id=1]


Processing PartyrolesController#create (for 127.0.0.1 at 2010-11-13 17:38:09) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "partyrole"=>{"party_id"=>"1", "role_id"=>"1"}, "commit"=>"Create", "controller"=>"partyroles", "action"=>"create"}
  [4;35;1mPartyrole Create (0.0ms)[0m   [0mINSERT INTO "partyroles" ("party_id", "role_id", "created_at", "updated_at") VALUES(1, 1, '2010-11-13 16:38:09', '2010-11-13 16:38:09')[0m
Redirected to http://127.0.0.1:3000/partyroles/2
Completed in 359ms (DB: 0) | 302 Found [http://127.0.0.1/partyroles]


Processing PartyrolesController#show (for 127.0.0.1 at 2010-11-13 17:38:09) [GET]
  Parameters: {"controller"=>"partyroles", "action"=>"show", "id"=>"2"}
  [4;36;1mPartyrole Load (0.0ms)[0m   [0;1mSELECT * FROM "partyroles" WHERE (party_id = '1') [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/partyroles
Rendering partyroles/show
  [4;36;1mRole Load (15.6ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Completed in 94ms (View: 47, DB: 16) | 200 OK [http://127.0.0.1/partyroles/2]


Processing PartyrolesController#index (for 127.0.0.1 at 2010-11-13 17:38:11) [GET]
  Parameters: {"controller"=>"partyroles", "action"=>"index"}
  [4;36;1mPartyrole Load (0.0ms)[0m   [0;1mSELECT * FROM "partyroles" WHERE (party_id = '1') [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/partyroles
Rendering partyroles/index
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Completed in 94ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/partyroles]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:38:13) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 17:38:15) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 203ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing UsersController#new (for 127.0.0.1 at 2010-11-13 17:38:18) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"new"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/users/new?party_id=1]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 17:38:24) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:38:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:56:27) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
ERROR: compiling _run_erb_app47views47people47index46html46erb RAISED d:/Rails Application/sbs2/app/views/people/index.html.erb:42: syntax error, unexpected keyword_ensure, expecting keyword_end
d:/Rails Application/sbs2/app/views/people/index.html.erb:44: syntax error, unexpected $end, expecting keyword_end
Function body: #coding:CP850
          def _run_erb_app47views47people47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing people</h1>\n\n<table>\n  <tr>\n    <th>Party ID</th>\n    <th>Current last name</th>\n    <th>Current first name</th>\n    <th>Birth date</th>\n    <th>ID</th>\n    <th>Income classification</th>\n    <th>ID</th>\n    <th>Occupation classification</th>\n  </tr>\n\n"













;  @people.each do |person| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_last_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_first_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.birth_date ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.incomeclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.incomeclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.occupationclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.occupationclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  if @usermanage == 1 ; @output_buffer.concat "\n    "
;  if @user.nil? ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  else ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  end ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to 'Show', person ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Edit', edit_person_path(person) ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Destroy', person, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"




; @output_buffer.concat(( link_to 'New person', new_person_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `module_eval'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `compile!'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `block in custom'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `block in respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/Rails Application/sbs2/app/controllers/people_controller.rb:10:in `index'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (d:/Rails Application/sbs2/app/views/people/index.html.erb:42: syntax error, unexpected keyword_ensure, expecting keyword_end
d:/Rails Application/sbs2/app/views/people/index.html.erb:44: syntax error, unexpected $end, expecting keyword_end) on line #42 of app/views/people/index.html.erb:
39: <br />
40: 
41: <%= link_to 'New person', new_person_path %>

    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (500.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:57:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 266ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 17:58:03) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing UsersController#new (for 127.0.0.1 at 2010-11-13 17:58:04) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"new"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 94ms (View: 47, DB: 16) | 200 OK [http://127.0.0.1/users/new?party_id=1]


Processing UsersController#create (for 127.0.0.1 at 2010-11-13 17:58:16) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "user"=>{"party_id"=>"1", "username"=>"hansuser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'hansuser') LIMIT 1[0m
  [4;35;1mUser Create (0.0ms)[0m   [0mINSERT INTO "users" ("party_id", "username", "encrypted_password", "salt", "created_at", "updated_at") VALUES(1, 'hansuser', 'f8b8cc91f8a550ee923dcc6eb5acb187a3a94a6bdf61e2930c4ceaaa1956be15', 'c1534b5244cc119ca15bc24aa38fba7de626acf1a4ba97b3c7f827052218ba08', '2010-11-13 16:58:16', '2010-11-13 16:58:16')[0m
Redirected to http://127.0.0.1:3000/users/1
Completed in 1344ms (DB: 0) | 302 Found [http://127.0.0.1/users]


Processing UsersController#show (for 127.0.0.1 at 2010-11-13 17:58:18) [GET]
  Parameters: {"controller"=>"users", "action"=>"show", "id"=>"1"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/users/1]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 17:58:20) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:58:22) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:58:25) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 17:58:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 18:04:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (578.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 18:05:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `users' for #<Person:0x35cbd80>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.users.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (687.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 18:05:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (578.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 18:05:59) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #9 of app/views/users/index.html.erb:
6:     <th>Username</th>
7:   </tr>
8: 
9: <% @party_id = @person.party_id %>
10: 
11: <% @users.each do |user| %>
12:   <tr>

    app/views/users/index.html.erb:9
    app/controllers/users_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 18:06:04) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (31.2ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (15.6ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:18:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.empty? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:20:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (15.6ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: users.person_id: SELECT * FROM "users" WHERE ("users".person_id = 1) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such column: users.person_id: SELECT * FROM "users" WHERE ("users".person_id = 1)  LIMIT 1) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (562.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:21:06) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:21:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:22:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:29:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:30:11) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:30:18) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing UsersController#new (for 127.0.0.1 at 2010-11-13 19:30:19) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"new"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 94ms (View: 47, DB: 16) | 200 OK [http://127.0.0.1/users/new?party_id=2]


Processing UsersController#create (for 127.0.0.1 at 2010-11-13 19:30:31) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "user"=>{"party_id"=>"2", "username"=>"jensuser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'jensuser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("party_id", "username", "encrypted_password", "salt", "created_at", "updated_at") VALUES(2, 'jensuser', '439dbdd2cb4e9c42c2ecc9013385dec58c184ba6c9823aa19dc328d513a1a33b', '4f14eacde6f49fcce0b28b4528b59c6802daf6b24ec5673706b398b7e23428f1', '2010-11-13 18:30:31', '2010-11-13 18:30:31')[0m
Redirected to http://127.0.0.1:3000/users/2
Completed in 1516ms (DB: 0) | 302 Found [http://127.0.0.1/users]


Processing UsersController#show (for 127.0.0.1 at 2010-11-13 19:30:33) [GET]
  Parameters: {"controller"=>"users", "action"=>"show", "id"=>"2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users/2]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:30:34) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:30:36) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:30:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:30:49) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 172ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:30:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 94ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:31:16) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 234ms (View: 188, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:31:27) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing UsersController#destroy (for 127.0.0.1 at 2010-11-13 19:31:31) [DELETE]
  Parameters: {"_method"=>"delete", "authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "controller"=>"users", "action"=>"destroy", "id"=>"1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 1[0m
Redirected to http://127.0.0.1:3000/users
Completed in 1172ms (DB: 0) | 302 Found [http://127.0.0.1/users/1]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:31:32) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:31:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 62, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:31:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:31:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 203ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:32:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:32:22) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 141ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:32:32) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:32:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:32:35) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:32:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:32:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:33:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.empty? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (390.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:33:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:33:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 94ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:34:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `users' for #<Person:0x26b7780>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.users.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:35:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 141ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:35:28) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:36:00) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (15.6ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 141ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:36:23) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 141ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:37:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (406.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:37:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 203ms (View: 156, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:37:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 109ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:37:58) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:38:00) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
Completed in 203ms (View: 156, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#new (for 127.0.0.1 at 2010-11-13 19:38:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"new"}
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/new
Completed in 109ms (View: 62, DB: 0) | 200 OK [http://127.0.0.1/people/new]


Processing PeopleController#create (for 127.0.0.1 at 2010-11-13 19:38:21) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "person"=>{"current_last_name"=>"Maxen", "current_first_name"=>"Max", "birth_date(1i)"=>"2010", "birth_date(2i)"=>"11", "birth_date(3i)"=>"13", "incomeclassification_id"=>"2", "occupationclassification_id"=>""}, "commit"=>"Create", "controller"=>"people", "action"=>"create"}
  [4;36;1mParty Create (0.0ms)[0m   [0;1mINSERT INTO "parties" ("created_at", "updated_at") VALUES('2010-11-13 18:38:21', '2010-11-13 18:38:21')[0m
  [4;35;1mPerson Create (0.0ms)[0m   [0mINSERT INTO "people" ("party_id", "incomeclassification_id", "occupationclassification_id", "current_last_name", "current_first_name", "birth_date", "created_at", "updated_at") VALUES(3, 2, NULL, 'Maxen', 'Max', '2010-11-13', '2010-11-13 18:38:22', '2010-11-13 18:38:22')[0m
Redirected to http://127.0.0.1:3000/people/3
Completed in 828ms (DB: 0) | 302 Found [http://127.0.0.1/people]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-13 19:38:22) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"3"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE ("people"."id" = 3) [0m
Rendering template within layouts/people
Rendering people/show
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 62ms (View: 16, DB: 16) | 200 OK [http://127.0.0.1/people/3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:38:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 203ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:38:30) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:38:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:39:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (406.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:39:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? || person.user.party_id.empty? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (421.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:40:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id.nil? && person.user.party_id.empty? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (437.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:40:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:40:32) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing UsersController#new (for 127.0.0.1 at 2010-11-13 19:40:33) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"new"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 78ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/users/new?party_id=3]


Processing UsersController#create (for 127.0.0.1 at 2010-11-13 19:40:44) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "user"=>{"party_id"=>"3", "username"=>"maxuser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'maxuser') LIMIT 1[0m
  [4;35;1mUser Create (0.0ms)[0m   [0mINSERT INTO "users" ("party_id", "username", "encrypted_password", "salt", "created_at", "updated_at") VALUES(3, 'maxuser', 'f772344d7f9f402b95519d609d14429794052ec2fd7606583a8a8257bc1dd461', 'dda207c1c66a3fea1c14ad3cd5871c1ac0be17d15156dcfa0a017ea3714b0b55', '2010-11-13 18:40:44', '2010-11-13 18:40:44')[0m
Redirected to http://127.0.0.1:3000/users/3
Completed in 828ms (DB: 0) | 302 Found [http://127.0.0.1/users]


Processing UsersController#show (for 127.0.0.1 at 2010-11-13 19:40:45) [GET]
  Parameters: {"controller"=>"users", "action"=>"show", "id"=>"3"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users/3]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:40:47) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:40:49) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:41:03) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:42:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x2ba9660>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (453.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:43:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x299a340>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (437.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:43:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x284dec0>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user.party_id[person.party_id].nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (468.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:44:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x2710240>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user.party_id[person.party_id].nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (406.2ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:44:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x28831c0>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user.party_id(person.party_id).nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (468.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:45:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x2711320>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user(person.party_id).nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (375.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:45:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x260b3c0>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user(person.id).nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (390.6ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:45:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined local variable or method `id' for #<ActionView::Base:0x25f7a80>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user(id).nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:46:05) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x1fc3700>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user[id].nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:46:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x1daffe0>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user[:id].nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:46:48) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined local variable or method `id' for #<ActionView::Base:0x1d9d640>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people[id].user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (296.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:46:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (can't convert Symbol into Integer) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people[:id].user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `[]'
    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:47:09) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 281ms (View: 219, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:47:25) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:47:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people[3].user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (406.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:48:16) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x28e9820>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user[0].nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (421.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:48:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for #<Array:0x27b6220>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people.user[1].nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (421.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:48:36) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:48:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:48:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 172, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:00) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people[3].user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:08) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:49:13) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:16) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 19:49:17) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:28) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people[1].user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (484.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:49:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @people[0].user.party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (578.1ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:50:17) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 125, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:50:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 312ms (View: 281, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:50:36) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '') LIMIT 1[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:52:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:53:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person[1].user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:53:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `user' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person[2].user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:54:11) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 344ms (View: 328, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:57:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:58:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= person.user.party_id if !person.user %>
27:     <% if person.user.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (406.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 19:58:30) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:03:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m

NameError (uninitialized constant PeopleController::People):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:04:04) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `user' for #<Class:0x2f092a0>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (250.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:04:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `user' for #<Class:0x36d4b60>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (296.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:05:21) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" [0m

NoMethodError (undefined method `user' for #<Array:0x2998e80>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (390.6ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:05:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" [0m

NoMethodError (undefined method `user?' for #<Array:0x33cfc00>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (218.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:06:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `user' for #<Class:0x1f7fd00>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (343.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:07:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `user' for #<Class:0x30a8d20>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (218.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:07:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `Person' for #<PeopleController:0x1877d00>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (218.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:09:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `Person' for #<PeopleController:0x2cb8a20>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:10:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `Person' for #<PeopleController:0x355c580>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (203.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:10:30) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `Person' for #<PeopleController:0x2647c00>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:11:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT * FROM "people" WHERE (:party_id => nil) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near ">": syntax error: SELECT * FROM "people" WHERE (:party_id => nil) ):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (281.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:12:11) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:12:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `user' for #<Class:0x3116c80>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (218.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:13:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 188ms (View: 141, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:13:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:13:45) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:13:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 203, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:14:02) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:14:29) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:14:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:15:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:15:38) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:15:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 203, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:16:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (can't convert String into Integer) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if @peopleuser[person.id.to_s].nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `[]'
    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (484.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:16:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:16:49) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:17:05) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:17:20) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:17:22) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:17:24) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:17:27) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 62, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:17:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:17:51) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:17:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:17:54) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing UsersController#destroy (for 127.0.0.1 at 2010-11-13 20:18:02) [DELETE]
  Parameters: {"_method"=>"delete", "authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "controller"=>"users", "action"=>"destroy", "id"=>"3"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 3[0m
Redirected to http://127.0.0.1:3000/users
Completed in 734ms (DB: 0) | 302 Found [http://127.0.0.1/users/3]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:18:03) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:18:05) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:18:09) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:18:10) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:18:12) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:18:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:18:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:19:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:20:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: object_id: SELECT * FROM "users" WHERE (object_id IS NOT NULL) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: object_id: SELECT * FROM "users" WHERE (object_id IS NOT NULL) ):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (375.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:20:36) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:20:42) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:20:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:20:45) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:20:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 47, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:20:52) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:20:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (id IS NOT NULL) [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:26:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `user' for #<Array:0x3329be0>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (218.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:27:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `user' for #<Array:0x1be1d80>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (484.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:27:58) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `user' for #<Array:0x2efc740>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (375.0ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:29:16) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m

NoMethodError (undefined method `user' for #<Array:0x3714b40>):
  app/controllers/people_controller.rb:8:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (218.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:34:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 359ms (View: 328, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:35:00) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:35:02) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:35:04) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:35:06) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#new (for 127.0.0.1 at 2010-11-13 20:35:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"new"}
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/new
Completed in 203ms (View: 156, DB: 0) | 200 OK [http://127.0.0.1/people/new]


Processing PeopleController#create (for 127.0.0.1 at 2010-11-13 20:35:38) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "person"=>{"current_last_name"=>"Fritzen", "current_first_name"=>"Fritz", "birth_date(1i)"=>"2010", "birth_date(2i)"=>"11", "birth_date(3i)"=>"13", "incomeclassification_id"=>"", "occupationclassification_id"=>""}, "commit"=>"Create", "controller"=>"people", "action"=>"create"}
  [4;35;1mParty Create (0.0ms)[0m   [0mINSERT INTO "parties" ("created_at", "updated_at") VALUES('2010-11-13 19:35:38', '2010-11-13 19:35:38')[0m
  [4;36;1mPerson Create (0.0ms)[0m   [0;1mINSERT INTO "people" ("party_id", "incomeclassification_id", "occupationclassification_id", "current_last_name", "current_first_name", "birth_date", "created_at", "updated_at") VALUES(4, NULL, NULL, 'Fritzen', 'Fritz', '2010-11-13', '2010-11-13 19:35:38', '2010-11-13 19:35:38')[0m
Redirected to http://127.0.0.1:3000/people/4
Completed in 875ms (DB: 0) | 302 Found [http://127.0.0.1/people]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-13 20:35:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"4"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE ("people"."id" = 4) [0m
Rendering template within layouts/people
Rendering people/show
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/people/4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:35:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:36:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:37:25) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:37:37) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing UsersController#new (for 127.0.0.1 at 2010-11-13 20:37:40) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"new"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 94ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/users/new?party_id=4]


Processing UsersController#create (for 127.0.0.1 at 2010-11-13 20:37:55) [POST]
  Parameters: {"authenticity_token"=>"dyg36nV6aJnFJWC1O7MrczbRx6tGlzSKn40ydybP9S0=", "user"=>{"party_id"=>"4", "username"=>"fritzuser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'fritzuser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("party_id", "username", "encrypted_password", "salt", "created_at", "updated_at") VALUES(4, 'fritzuser', '6f6c631b852108d350c7292da8522a6b1964ed8ce905b273d25d092a0aa0a52c', 'b4e7de7969d83cba6bad9a231ee460a3afcb3bb445ea1041cce0888a77903e41', '2010-11-13 19:37:55', '2010-11-13 19:37:55')[0m
Redirected to http://127.0.0.1:3000/users/4
Completed in 781ms (DB: 16) | 302 Found [http://127.0.0.1/users]


Processing UsersController#show (for 127.0.0.1 at 2010-11-13 20:37:56) [GET]
  Parameters: {"controller"=>"users", "action"=>"show", "id"=>"4"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users/4]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:37:57) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:38:13) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 156ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:38:18) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:20) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:38:21) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 188ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:23) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:38:36) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 94ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:38) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:38:40) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 78, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:38:43) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 94ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:38:45) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:39:04) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:39:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (can't convert Person into Integer) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if !@users[person].nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `[]'
    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (421.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:40:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `to_i' for #<Person:0x25b9280>) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if !@users[person.to_i].nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (500.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:40:42) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 359ms (View: 312, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:44:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for #<Array:0x3492ee0>) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if !@users.party_id[person.party_id].nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (781.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:45:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if !@users[person.party_id].party_id.nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (906.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:46:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if !@users[person.party_id-1].party_id.nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (765.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:46:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if !@users[person.party_id+1].party_id.nil? %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (781.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:47:28) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:47:33) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:47:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:47:36) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:47:38) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:47:39) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:47:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:47:42) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:47:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:47:46) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:47:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 172, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:48:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:48:21) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 31) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:48:23) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 188ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:48:25) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:48:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:48:28) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 109ms (View: 47, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:48:29) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 20:48:31) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 20:48:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:22:30) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `IN' for #<ActionView::Base:0x2bd1620>) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <% if person.party_id IN @users %>
27:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
28:     <% else %>
29:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (421.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:32:31) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 469ms (View: 391, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:32:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:32:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 22:33:05) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:33:06) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 22:33:08) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:33:10) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:33:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:33:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:34:05) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:35:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:36:30) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT username FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:38:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:38:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 281ms (View: 234, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:42:42) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:43:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
ERROR: compiling _run_erb_app47views47people47index46html46erb RAISED d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected $undefined, expecting '}'
...d%") ; @output_buffer.concat "\n    <td>"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:28: syntax error, unexpected tCONSTANT, expecting '}'
...buffer.concat(( link_to "Create user account", :controller =...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting '}'
...account", :controller => "users", :action => "index", :party...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting '}'
...r => "users", :action => "index", :party_id => person.party_...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:30: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:30: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n    "
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:31: syntax error, unexpected $undefined, expecting '}'
;  end ; @output_buffer.concat "\n    <td>"
                                 ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:33: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:33: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n    <td>"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:34: unknown regexp options - tr
d:/Rails Application/sbs2/app/views/people/index.html.erb:34: syntax error, unexpected $undefined
..._buffer.concat "</td>\n  </tr>\n"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: syntax error, unexpected $undefined, expecting '}'
;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"
                                 ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: syntax error, unexpected $undefined
;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"
                                                     ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: unterminated string meets end of file
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: syntax error, unexpected $end, expecting '}'
Function body: #coding:CP850
          def _run_erb_app47views47people47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing people</h1>\n\n<table>\n  <tr>\n    <th>Party ID</th>\n    <th>Current last name</th>\n    <th>Current first name</th>\n    <th>Birth date</th>\n    <th>ID</th>\n    <th>Income classification</th>\n    <th>ID</th>\n    <th>Occupation classification</th>\n  </tr>\n\n"













;  @people.each do |person| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_last_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_first_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.birth_date ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.incomeclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.incomeclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.occupationclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.occupationclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
; @output_buffer.concat(( "%#{@users}%" ).to_s); @output_buffer.concat "\n    "
;  if @users.include?("%#{person.party_id%") ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  else ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  end ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to 'Show', person ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Edit', edit_person_path(person) ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Destroy', person, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"




; @output_buffer.concat(( link_to 'New person', new_person_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `module_eval'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `compile!'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `block in custom'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `block in respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/Rails Application/sbs2/app/controllers/people_controller.rb:10:in `index'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected $undefined, expecting '}'
...d%") ; @output_buffer.concat "\n    <td>"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:28: syntax error, unexpected tCONSTANT, expecting '}'
...buffer.concat(( link_to "Create user account", :controller =...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting '}'
...account", :controller => "users", :action => "index", :party...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting '}'
...r => "users", :action => "index", :party_id => person.party_...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:30: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:30: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n    "
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:31: syntax error, unexpected $undefined, expecting '}'
;  end ; @output_buffer.concat "\n    <td>"
                                 ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:33: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:33: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n    <td>"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:34: unknown regexp options - tr
d:/Rails Application/sbs2/app/views/people/index.html.erb:34: syntax error, unexpected $undefined
..._buffer.concat "</td>\n  </tr>\n"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: syntax error, unexpected $undefined, expecting '}'
;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"
                                 ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: syntax error, unexpected $undefined
;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"
                                                     ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: unterminated string meets end of file
d:/Rails Application/sbs2/app/views/people/index.html.erb:36: syntax error, unexpected $end, expecting '}') on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= "%#{@users}%" %>
27:     <% if @users.include?("%#{person.party_id%") %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (640.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:44:09) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:45:10) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for [#<User party_id: 2>, #<User party_id: 4>]:Array) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= "%#{@users.party_id}%" %>
27:     <% if @users.include?(person.party_id) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (437.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:46:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 266ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:47:10) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:48:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:48:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 438ms (View: 391, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:49:25) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 22:49:29) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:49:31) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (93.8ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 94, DB: 94) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 22:49:32) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:49:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 22:49:35) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:49:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 234ms (View: 203, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-13 22:49:38) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:49:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:51:45) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:52:09) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 156, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:52:17) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:52:27) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 234ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:52:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:52:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:52:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 266ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:53:17) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:53:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:54:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 203, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:54:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:54:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:55:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:55:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:57:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:57:29) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:58:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:58:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 406ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:59:08) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `id' for #<Array:0x35400a0>) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users.id[1] %>
27:     <% if @users.include?(4) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (750.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:59:17) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `id' for #<Array:0x3499b80>) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users.id %>
27:     <% if @users.include?(4) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (1015.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 22:59:38) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `id' for [#<User party_id: 2>, #<User party_id: 4>]:Array) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users.id %>
27:     <% if @users.include?(4) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:10:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (921.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:01:37) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `id' for [#<User party_id: 2>, #<User party_id: 4>]:Array) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users.id %>
27:     <% if @users.include?(4) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (984.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:02:13) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:02:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:02:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 281ms (View: 234, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:05:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:05:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:06:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:06:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:09:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:09:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 406ms (View: 359, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:10:17) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:10:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:14:31) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 625ms (View: 547, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:14:42) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:14:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:15:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:15:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:15:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:15:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 234ms (View: 156, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:16:13) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (wrong number of arguments(0 for 1)) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users[5] %>
27:     <% if @users.include?[4] %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `include?'
    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (921.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:16:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (wrong number of arguments(0 for 1)) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users[5] %>
27:     <% if @users.include?() %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `include?'
    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (578.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:16:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:16:56) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 688ms (View: 625, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:17:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:18:28) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:18:52) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (wrong number of arguments(2 for 1)) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <%= @users[5] %>
27:     <% if @users.include?(2,2) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `include?'
    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (546.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:19:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 266ms (View: 234, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:19:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:20:02) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:25:21) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:25:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
ERROR: compiling _run_erb_app47views47people47index46html46erb RAISED d:/Rails Application/sbs2/app/views/people/index.html.erb:26: syntax error, unexpected tIDENTIFIER, expecting ')'
...r.concat(( "#{@users[0]}" hallo ).to_s); @output_buffer.conc...
...                               ^
Function body: #coding:CP850
          def _run_erb_app47views47people47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing people</h1>\n\n<table>\n  <tr>\n    <th>Party ID</th>\n    <th>Current last name</th>\n    <th>Current first name</th>\n    <th>Birth date</th>\n    <th>ID</th>\n    <th>Income classification</th>\n    <th>ID</th>\n    <th>Occupation classification</th>\n  </tr>\n\n"













;  @people.each do |person| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_last_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_first_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.birth_date ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.incomeclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.incomeclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.occupationclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.occupationclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( "#{@users[0]}" hallo ).to_s); @output_buffer.concat "</td>\n    "
;  if @users.include?(2) ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  else ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  end ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to 'Show', person ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Edit', edit_person_path(person) ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Destroy', person, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"




; @output_buffer.concat(( link_to 'New person', new_person_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `module_eval'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `compile!'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `block in custom'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `block in respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/Rails Application/sbs2/app/controllers/people_controller.rb:11:in `index'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (d:/Rails Application/sbs2/app/views/people/index.html.erb:26: syntax error, unexpected tIDENTIFIER, expecting ')'
...r.concat(( "#{@users[0]}" hallo ).to_s); @output_buffer.conc...
...                               ^) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <td><%= "#{@users[0]}" hallo %></td>
27:     <% if @users.include?(2) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (1312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:26:06) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 375ms (View: 328, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:26:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:27:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:29:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:29:29) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <td><%= "#{@users} hallo" %></td>
27:     <% if @users.include?(2) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (953.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:29:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 109, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:30:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:31:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:31:56) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for [#<User party_id: 2>, #<User party_id: 4>]:Array) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h person.occupationclassification_id %></td>
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <td><%= "#{@users.party_id} hallo" %></td>
27:     <% if @users.include?(2) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:11:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (781.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:32:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 266ms (View: 234, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:32:56) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:33:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:33:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 203ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:34:13) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 188ms (View: 156, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:34:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:35:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 219ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:35:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:35:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 375ms (View: 344, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:35:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:36:11) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:36:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/people_controller.rb:10:in `index'
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (734.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:36:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 281ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:37:06) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 344ms (View: 312, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:37:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:37:56) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 266ms (View: 234, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:42:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:42:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 234ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:44:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:45:21) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:45:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
ERROR: compiling _run_erb_app47views47people47index46html46erb RAISED d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected tIDENTIFIER, expecting keyword_end
;  puts "#@users" kkk  ; @output_buffer.concat "</td>\n    "
                     ^
Function body: #coding:CP850
          def _run_erb_app47views47people47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing people</h1>\n\n<table>\n  <tr>\n    <th>Party ID</th>\n    <th>Current last name</th>\n    <th>Current first name</th>\n    <th>Birth date</th>\n    <th>ID</th>\n    <th>Income classification</th>\n    <th>ID</th>\n    <th>Occupation classification</th>\n  </tr>\n\n"













;  @people.each do |person| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_last_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_first_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.birth_date ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.incomeclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.incomeclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.occupationclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.occupationclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( @users.each {|k,v| puts "#{k}: #{v}"} ).to_s); @output_buffer.concat "</td>\n    <td>"
;  puts "#@users" kkk  ; @output_buffer.concat "</td>\n    "
;  if @users.include?(2) ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  else ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  end ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to 'Show', person ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Edit', edit_person_path(person) ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Destroy', person, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"




; @output_buffer.concat(( link_to 'New person', new_person_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `module_eval'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `compile!'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `block in custom'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `block in respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/Rails Application/sbs2/app/controllers/people_controller.rb:12:in `index'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected tIDENTIFIER, expecting keyword_end
;  puts "#@users" kkk  ; @output_buffer.concat "</td>\n    "
                     ^) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     <td><%= @users.each {|k,v| puts "#{k}: #{v}"} %></td>
27:     <td><% puts "#@users" kkk  %></td>
28:     <% if @users.include?(2) %>
29:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
30:     <% else %>

    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (937.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:45:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 781ms (View: 703, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:46:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 281ms (View: 219, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:46:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 172ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:46:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
ERROR: compiling _run_erb_app47views47people47index46html46erb RAISED d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected tIDENTIFIER, expecting '}'
;  "#{ puts @users "}   ; @output_buffer.concat "</td>\n    "
                      ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:29: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:29: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n    "
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:30: syntax error, unexpected $undefined, expecting '}'
;  else ; @output_buffer.concat "\n    <td>"
                                  ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:31: syntax error, unexpected tCONSTANT, expecting '}'
...buffer.concat(( link_to "Manage user account", :controller =...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:31: syntax error, unexpected tIDENTIFIER, expecting '}'
...account", :controller => "users", :action => "index", :party...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:31: syntax error, unexpected tIDENTIFIER, expecting '}'
...r => "users", :action => "index", :party_id => person.party_...
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:33: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:33: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n    <td>"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:35: unknown regexp options - td
d:/Rails Application/sbs2/app/views/people/index.html.erb:35: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n  </tr>\n"
...                               ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:37: unknown regexp options - tabl
d:/Rails Application/sbs2/app/views/people/index.html.erb:37: syntax error, unexpected $undefined
;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"
                                           ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:37: syntax error, unexpected tREGEXP_BEG, expecting keyword_do or '{' or '('
;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"
                                                   ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:37: unterminated regexp meets end of file
Function body: #coding:CP850
          def _run_erb_app47views47people47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing people</h1>\n\n<table>\n  <tr>\n    <th>Party ID</th>\n    <th>Current last name</th>\n    <th>Current first name</th>\n    <th>Birth date</th>\n    <th>ID</th>\n    <th>Income classification</th>\n    <th>ID</th>\n    <th>Occupation classification</th>\n  </tr>\n\n"













;  @people.each do |person| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_last_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_first_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.birth_date ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.incomeclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.incomeclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.occupationclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.occupationclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( @users.each {|k,v| puts "#{k}: #{v}"} ).to_s); @output_buffer.concat "</td>\n    <td>"
;  "#{ puts @users "}   ; @output_buffer.concat "</td>\n    "
;  if @users.include?(2) ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  else ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  end ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to 'Show', person ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Edit', edit_person_path(person) ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Destroy', person, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"




; @output_buffer.concat(( link_to 'New person', new_person_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `module_eval'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `compile!'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `block in custom'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `block in respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/Rails Application/sbs2/app/controllers/people_controller.rb:12:in `index'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'


Processing ApplicationController#index (for 127.0.0.1 at 2010-11-13 23:46:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}

Encoding::CompatibilityError (incompatible character encodings: ASCII-8BIT and CP850):
  <internal:prelude>:8:in `synchronize'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (468.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:46:50) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 188ms (View: 156, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:48:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-13 23:48:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:25:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 2484ms (View: 2266, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:34:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `new_record?' for [#<User party_id: 2>, #<User party_id: 4>]:Array) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users.new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (531.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:35:34) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (843.8ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:36:05) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `new' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.new.new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (468.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:37:21) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:38:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (406.2ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:38:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.first) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.first.new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (1015.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:40:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if none_on_fail (person.user.new_record?) %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (843.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:41:22) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `empty_record?' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.empty_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (328.1ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:42:49) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `User' for #<ActionView::Base:0x3724e80>) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if User(person.party_id).new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (296.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:43:19) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
ERROR: compiling _run_erb_app47views47people47index46html46erb RAISED d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected '(', expecting keyword_then or ';' or '\n'
;  if @user(person.party_id).new_record? ...
            ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected ')', expecting keyword_end
;  if @user(person.party_id).new_record? ; @output_buffer...
                            ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:29: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n    <td>"
       ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:42: syntax error, unexpected keyword_ensure, expecting $end
Function body: #coding:CP850
          def _run_erb_app47views47people47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Listing people</h1>\n\n<table>\n  <tr>\n    <th>Party ID</th>\n    <th>Current last name</th>\n    <th>Current first name</th>\n    <th>Birth date</th>\n    <th>ID</th>\n    <th>Income classification</th>\n    <th>ID</th>\n    <th>Occupation classification</th>\n  </tr>\n\n"













;  @people.each do |person| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h person.party_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_last_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.current_first_name ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.birth_date ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.incomeclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.incomeclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h person.occupationclassification_id ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h none_on_fail {person.occupationclassification.description} ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    \n    "

;  if @user(person.party_id).new_record? ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  else ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id ).to_s); @output_buffer.concat "</td>\n    "
;  end ; @output_buffer.concat "\n    <td>"
; @output_buffer.concat(( link_to 'Show', person ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Edit', edit_person_path(person) ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to 'Destroy', person, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n\n"




; @output_buffer.concat(( link_to 'New person', new_person_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `module_eval'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:91:in `compile!'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `block in custom'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:175:in `block in respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/Rails Application/sbs2/app/controllers/people_controller.rb:12:in `index'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
d:/Programme/Ruby191/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process_with_filters'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `block in call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
d:/Programme/Ruby191/lib/ruby/gems/1.9.1/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected '(', expecting keyword_then or ';' or '\n'
;  if @user(person.party_id).new_record? ...
            ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:27: syntax error, unexpected ')', expecting keyword_end
;  if @user(person.party_id).new_record? ; @output_buffer...
                            ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:29: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n    <td>"
       ^
d:/Rails Application/sbs2/app/views/people/index.html.erb:42: syntax error, unexpected keyword_ensure, expecting $end) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @user(person.party_id).new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (296.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:43:36) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @user[person.party_id].new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (484.4ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:44:13) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users[person.party_id].new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (671.9ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:45:12) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `new_record?' for 4:Fixnum) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users[person.party_id].party_id.new_record? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (484.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:45:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users[person.party_id].party_id %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (687.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:45:52) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users[person.party_id].party_id.nil? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (515.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:47:29) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `valid?' for 4:Fixnum) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users[person.party_id].party_id.valid? %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (484.4ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:51:31) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if @users[person.party_id].new_record? == nil %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:52:08) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.new_record? == nil %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 10:54:57) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (15.6ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.new_record? == nil %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:01:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:02:35) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.id == nil %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:02:56) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `party_id' for nil:NilClass) on line #27 of app/views/people/index.html.erb:
24:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
25:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
26:     
27:     <% if person.user.party_id == nil %>
28:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
29:     <% else %>
30:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:27:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (312.5ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:03:11) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 234ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:04:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (93.8ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 125, DB: 94) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:06:44) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:07:13) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:07:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
Completed in 250ms (View: 203, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#edit (for 127.0.0.1 at 2010-11-19 11:07:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"edit", "id"=>"4"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" WHERE ("people"."id" = 4) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" [0m
  [4;36;1mOccupationclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/edit
Completed in 156ms (View: 94, DB: 16) | 200 OK [http://127.0.0.1/people/4/edit]


Processing PeopleController#update (for 127.0.0.1 at 2010-11-19 11:08:00) [PUT]
  Parameters: {"_method"=>"put", "authenticity_token"=>"IzkXZzhiwXnZ+GSwwVpEfaJJhDX5QIYcz9YEOKptddo=", "person"=>{"current_last_name"=>"Fritzen", "current_first_name"=>"Fritz", "incomeclassification_id"=>"", "occupationclassification_id"=>"1", "birth_date(1i)"=>"2010", "birth_date(2i)"=>"11", "birth_date(3i)"=>"13"}, "commit"=>"Update", "controller"=>"people", "action"=>"update", "id"=>"4"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE ("people"."id" = 4) [0m
  [4;36;1mPerson Update (0.0ms)[0m   [0;1mUPDATE "people" SET "occupationclassification_id" = 1, "updated_at" = '2010-11-19 10:08:00' WHERE "id" = 4[0m
Redirected to http://127.0.0.1:3000/people/4
Completed in 500ms (DB: 0) | 302 Found [http://127.0.0.1/people/4]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-19 11:08:01) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"4"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE ("people"."id" = 4) [0m
Rendering template within layouts/people
Rendering people/show
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people/4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:08:03) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:09:26) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:10:53) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:12:08) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 531ms (View: 328, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:13:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 516ms (View: 312, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:13:38) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:13:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:13:45) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:13:46) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:13:48) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:14:23) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing UsersController#destroy (for 127.0.0.1 at 2010-11-19 11:14:27) [DELETE]
  Parameters: {"_method"=>"delete", "authenticity_token"=>"IzkXZzhiwXnZ+GSwwVpEfaJJhDX5QIYcz9YEOKptddo=", "controller"=>"users", "action"=>"destroy", "id"=>"4"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 4[0m
Redirected to http://127.0.0.1:3000/users
Completed in 406ms (DB: 0) | 302 Found [http://127.0.0.1/users/4]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:14:28) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:14:30) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 141ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:14:32) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 125ms (View: 78, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:14:35) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing UsersController#new (for 127.0.0.1 at 2010-11-19 11:14:37) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"new"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 203ms (View: 172, DB: 0) | 200 OK [http://127.0.0.1/users/new?party_id=4]


Processing UsersController#create (for 127.0.0.1 at 2010-11-19 11:14:50) [POST]
  Parameters: {"authenticity_token"=>"IzkXZzhiwXnZ+GSwwVpEfaJJhDX5QIYcz9YEOKptddo=", "user"=>{"party_id"=>"4", "username"=>"fritzuser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'fritzuser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("party_id", "username", "encrypted_password", "salt", "created_at", "updated_at") VALUES(4, 'fritzuser', '35319baeeca16fd279c30aa9469d59efa4ea03f03a5454d6fea3e8935952c49b', '7c00918c396d89558934f2f94a00a5d816e4bcd7df9b839fc3e01f6691f3ff7e', '2010-11-19 10:14:50', '2010-11-19 10:14:50')[0m
Redirected to http://127.0.0.1:3000/users/5
Completed in 797ms (DB: 0) | 302 Found [http://127.0.0.1/users]


Processing UsersController#show (for 127.0.0.1 at 2010-11-19 11:14:51) [GET]
  Parameters: {"controller"=>"users", "action"=>"show", "id"=>"5"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users/5]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:14:53) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 109ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:14:54) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:14:56) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 219ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:15:59) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:17:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:18:18) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT party_id FROM "users" [0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 312ms (View: 266, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:24:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 500ms (View: 281, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:25:27) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 266ms (View: 250, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:25:41) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `users' for #<Person:0x3928260>) on line #28 of app/views/people/index.html.erb:
25:     <td><%=h none_on_fail {person.user.id} %></td>
26:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
27:     
28:     <% if person.users == nil %>
29:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
30:     <% else %>
31:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:28:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (343.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:25:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 312ms (View: 250, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:28:11) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:29:15) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:33:28) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:35:33) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 500ms (View: 281, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:36:10) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 359ms (View: 328, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:36:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:40:20) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:40:41) [GET]
  Parameters: {"party_id"=>"1", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '1') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '1') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '1') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=1]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:40:43) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 219ms (View: 188, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:40:46) [GET]
  Parameters: {"party_id"=>"3", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '3') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '3') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '3') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=3]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:40:47) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (15.6ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 172ms (View: 141, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:40:49) [GET]
  Parameters: {"party_id"=>"4", "controller"=>"users", "action"=>"index"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '4') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '4') LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '4') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=4]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:40:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 11:40:54) [GET]
  Parameters: {"party_id"=>"2", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '2') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '2') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '2') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=2]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:40:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 219ms (View: 203, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:41:16) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 141ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:42:00) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 141ms (View: 109, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:43:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
Completed in 109ms (View: 94, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:44:23) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: users.person_id: SELECT * FROM "users" WHERE ("users".person_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: users.person_id: SELECT * FROM "users" WHERE ("users".person_id = 1) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such column: users.person_id: SELECT * FROM "users" WHERE ("users".person_id = 1)  LIMIT 1) on line #28 of app/views/people/index.html.erb:
25:     <td><%=h none_on_fail {person.user.username} %></td>
26:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
27:     
28:     <% if person.user == nil %>
29:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
30:     <% else %>
31:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:28:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:15:in `each'
    app/views/people/index.html.erb:15
    app/controllers/people_controller.rb:12:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (843.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:45:14) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 344ms (View: 328, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:46:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 141ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:49:07) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 172ms (View: 141, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:49:39) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (15.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 328ms (View: 188, DB: 31) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:50:21) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m

ActionView::TemplateError (undefined method `no_account_on_fail' for #<ActionView::Base:0x326d4e0>) on line #26 of app/views/people/index.html.erb:
23:     <td><%=h none_on_fail {person.incomeclassification.description} %></td>
24:     <td><%=h person.occupationclassification_id %></td>
25:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
26:     <td><%=h no_account_on_fail {person.user.username} %></td>
27:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
28:     
29:     <% if person.user == nil %>

    app/views/people/index.html.erb:26:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:16:in `each'
    app/views/people/index.html.erb:16
    app/controllers/people_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (812.5ms)
Rendered rescues/_request_and_response (15.6ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:52:05) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 125ms (View: 109, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:58:51) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #28 of app/views/people/index.html.erb:
25:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
26:     <td><%=h no_account_on_fail {person.user.username} %></td>
27:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
28:     <% if person.user.new_record? %>
29:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
30:     <% else %>
31:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:28:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:16:in `each'
    app/views/people/index.html.erb:16
    app/controllers/people_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (593.8ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:59:06) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.new_record?) on line #28 of app/views/people/index.html.erb:
25:     <td><%=h none_on_fail {person.occupationclassification.description} %></td>
26:     <td><%=h no_account_on_fail {person.user.username} %></td>
27:     <td><%= link_to "Manage people roles", :controller => "partyroles", :action => "index", :party_id => person.party_id %></td>
28:     <% if person.user.new_record? == nil %>
29:     <td><%= link_to "Create user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>
30:     <% else %>
31:     <td><%= link_to "Manage user account", :controller => "users", :action => "index", :party_id => person.party_id %></td>

    app/views/people/index.html.erb:28:in `block in _run_erb_app47views47people47index46html46erb'
    app/views/people/index.html.erb:16:in `each'
    app/views/people/index.html.erb:16
    app/controllers/people_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    d:/Programme/Ruby191/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (765.6ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 11:59:24) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;35;1mIncomeclassification Load (15.6ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;35;1mOccupationclassification Load (0.0ms)[0m   [0mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
Completed in 234ms (View: 203, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing PeopleController#new (for 127.0.0.1 at 2010-11-19 12:02:20) [GET]
  Parameters: {"controller"=>"people", "action"=>"new"}
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" [0m
Rendering template within layouts/people
Rendering people/new
Completed in 234ms (View: 188, DB: 0) | 200 OK [http://127.0.0.1/people/new]


Processing PeopleController#create (for 127.0.0.1 at 2010-11-19 12:02:39) [POST]
  Parameters: {"authenticity_token"=>"IzkXZzhiwXnZ+GSwwVpEfaJJhDX5QIYcz9YEOKptddo=", "person"=>{"current_last_name"=>"paulsen", "current_first_name"=>"paul", "birth_date(1i)"=>"2010", "birth_date(2i)"=>"11", "birth_date(3i)"=>"19", "incomeclassification_id"=>"", "occupationclassification_id"=>""}, "commit"=>"Create", "controller"=>"people", "action"=>"create"}
  [4;35;1mParty Create (0.0ms)[0m   [0mINSERT INTO "parties" ("created_at", "updated_at") VALUES('2010-11-19 11:02:39', '2010-11-19 11:02:39')[0m
  [4;36;1mPerson Create (0.0ms)[0m   [0;1mINSERT INTO "people" ("party_id", "incomeclassification_id", "occupationclassification_id", "current_last_name", "current_first_name", "birth_date", "created_at", "updated_at") VALUES(5, NULL, NULL, 'paulsen', 'paul', '2010-11-19', '2010-11-19 11:02:39', '2010-11-19 11:02:39')[0m
Redirected to http://127.0.0.1:3000/people/5
Completed in 1438ms (DB: 0) | 302 Found [http://127.0.0.1/people]


Processing PeopleController#show (for 127.0.0.1 at 2010-11-19 12:02:40) [GET]
  Parameters: {"controller"=>"people", "action"=>"show", "id"=>"5"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM "people" WHERE ("people"."id" = 5) [0m
Rendering template within layouts/people
Rendering people/show
Completed in 78ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/people/5]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 12:02:42) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 5) LIMIT 1[0m
Completed in 156ms (View: 125, DB: 0) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 12:02:47) [GET]
  Parameters: {"party_id"=>"5", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '5') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '5') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '5') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users?party_id=5]


Processing UsersController#new (for 127.0.0.1 at 2010-11-19 12:02:54) [GET]
  Parameters: {"party_id"=>"5", "controller"=>"users", "action"=>"new"}
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '5') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://127.0.0.1/users/new?party_id=5]


Processing UsersController#create (for 127.0.0.1 at 2010-11-19 12:03:29) [POST]
  Parameters: {"authenticity_token"=>"IzkXZzhiwXnZ+GSwwVpEfaJJhDX5QIYcz9YEOKptddo=", "user"=>{"party_id"=>"5", "username"=>"pauluser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '5') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'pauluser') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 94ms (View: 47, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing UsersController#create (for 127.0.0.1 at 2010-11-19 12:03:45) [POST]
  Parameters: {"authenticity_token"=>"IzkXZzhiwXnZ+GSwwVpEfaJJhDX5QIYcz9YEOKptddo=", "user"=>{"party_id"=>"5", "username"=>"pauluser", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create account", "controller"=>"users", "action"=>"create"}
  [4;35;1mPerson Load (15.6ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '5') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'pauluser') LIMIT 1[0m
  [4;35;1mUser Create (0.0ms)[0m   [0mINSERT INTO "users" ("party_id", "username", "encrypted_password", "salt", "created_at", "updated_at") VALUES(5, 'pauluser', '4f9d756cbfbc3c85fb98006836c386becfd89f906ad4972f52f694b360b9454b', '4df3a8353e2a35ee6b535c1c0ec9a87010cc00954d31a4ee6e52a0827d022cdf', '2010-11-19 11:03:45', '2010-11-19 11:03:45')[0m
Redirected to http://127.0.0.1:3000/users/6
Completed in 922ms (DB: 16) | 302 Found [http://127.0.0.1/users]


Processing UsersController#show (for 127.0.0.1 at 2010-11-19 12:03:46) [GET]
  Parameters: {"controller"=>"users", "action"=>"show", "id"=>"6"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users/6]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 12:03:49) [GET]
  Parameters: {"controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '5') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '5') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '5') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://127.0.0.1/users]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 12:03:55) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 5) LIMIT 1[0m
Completed in 234ms (View: 203, DB: 16) | 200 OK [http://127.0.0.1/people]


Processing UsersController#index (for 127.0.0.1 at 2010-11-19 12:03:59) [GET]
  Parameters: {"party_id"=>"5", "controller"=>"users", "action"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (party_id = '5') [0m
  [4;36;1mUser Load (15.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (party_id = '5') LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT party_id, current_last_name, current_first_name FROM "people" WHERE (party_id = '5') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/index
Completed in 62ms (View: 16, DB: 16) | 200 OK [http://127.0.0.1/users?party_id=5]


Processing PeopleController#index (for 127.0.0.1 at 2010-11-19 12:04:04) [GET]
  Parameters: {"controller"=>"people", "action"=>"index"}
  [4;36;1mPerson Load (15.6ms)[0m   [0;1mSELECT * FROM "people" ORDER BY party_id ASC[0m
Rendering template within layouts/people
Rendering people/index
  [4;35;1mIncomeclassification Load (0.0ms)[0m   [0mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 1) LIMIT 1[0m
  [4;36;1mIncomeclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "incomeclassifications" WHERE ("incomeclassifications"."id" = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 3) LIMIT 1[0m
  [4;36;1mOccupationclassification Load (0.0ms)[0m   [0;1mSELECT * FROM "occupationclassifications" WHERE ("occupationclassifications"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".party_id = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".party_id = 5) LIMIT 1[0m
Completed in 156ms (View: 125, DB: 16) | 200 OK [http://127.0.0.1/people]
>>>>>>> signin-user:log/development.log
